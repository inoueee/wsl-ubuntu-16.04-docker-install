# Docker on WSL 環境構築手順

Win10環境の会社PCにて何故か vagrant init に失敗し、解決しないという事件が起きた為、
別の環境構築手順として、WSL + Ubuntu16.04 + Docker の構成にて開発環境を作成する。

Dockerのバージョンを指定する理由としては、
バージョン未指定の場合、後述する環境で動作しないバージョン(18.06.0)でインストールされてしまうため。

## 前準備

### WSLの有効化

1. スタートボタンを右クリック、アプリと機能 をクリック
2. 右上にある プログラムと機能 をクリック
3. 左側の一覧から、Windowsの機能の有効化または無効化 をクリック
4. Windows Subsystem for Linux を探し、チェックを入れる
5. インストールが始まるので、終わるまで待つ 終わったら再起動

### ubuntuのインストール

1. Microsoft Storeを起動
2. 検索窓から、Ubuntu を検索
3. 検索結果の Ubuntu16.04 を選択
4. 入手を選択し、インストールが行われる
5. インストール完了後、スタートに追加される Ubuntuを起動、インストールの完了を待つ
6. 完了後、使用するユーザー名とパスワードの設定を行う

## Dockerのインストール

作成を行ったインストール用のスクリプトファイルである、
*wsl-ubuntu-16.04-docker-install.sh* を実行する。

なお、上記ファイルの最下部記載の *setting docker auto start* 以降は、
自動起動設定なので、不要な場合は事前に削除を行ったうえ実行する

上記自動起動設定のみ切り分けを行ったスクリプトファイルを、
*startDocker.sh* として作成している為必要に応じて使用する。

## 管理者権限でUbuntuを再起動

一度Ubuntuの画面を閉じ、管理者権限で起動を行う
Dockerの自動起動を行うために管理者ユーザのパスワードを聞かれるので入力

## Dockerのバージョン確認

*docker -v* を実行し、
Docker version 17.09.0-ce, build afdb6d4
と表示されることを確認します。

## 動作確認

Dockerが正常に動作することを確認する為、下記のコマンドを実行する
*docker run hello-world*

*Hello from Docker!*
というメッセージが表示されればOK